
@mixin glitch-transformation($top, $left, $v-height)
    $t-cut: calc(#{ $top / 10 } * 100%)
    $b-cut: calc(#{ $top / 10 } * 100% + #{ $v-height })
    transform: translateX(calc(#{ $left } * 100%))
    clip-path: polygon(-20% $t-cut, 120% $t-cut, 120% $b-cut, -20% $b-cut)

.logo
    color: white
    font-size: 1.5rem
    position: fixed
    display: flex
    justify-content: space-between
    align-items: flex-end
    top: 3%
    left: 5%
    font-weight: bold
    pointer-events: none
    animation: logo-translate 4s ease-in-out
    will-change: transform, top, left
    z-index: 1

    &--small
        font-size: 0.8em

    &__glitch
        position: relative
        &::before ,&::after
            content: attr(data-text)
            color: white
            position: absolute
            left: 0
            top: 0
            $top: -2
            $left: 0
            $v-height: 120%
            @include glitch-transformation($top, $left, $v-height)

        &::before
            text-shadow: -3px -3px #00fff9
            animation:  glitch-b 40s 4s steps(1, end) infinite alternate-reverse
        &::after
            text-shadow: 3px 3px  #ff00c1
            animation: glitch-a 30s 4s steps(1, end) infinite alternate

@keyframes glitch-a

    $steps: 150

    @for $i from 0 through $steps
        #{percentage($i*(1/$steps))}
            @if $i % 5 != 0
                @include glitch-transformation(0, 0, 0%)
            @else
                $top: #{random(4) + 2}
                $left: #{random(30) / 100 - random(30) / 100 + 0.02}
                $v-height: #{percentage((random(3) + 2) * (1/20))}
                @include glitch-transformation($top, $left, $v-height)

@keyframes glitch-b
    $steps: 150

    @for $i from 0 through $steps
        #{percentage($i*(1/$steps))}
            @if $i % 5 != 0
                @include glitch-transformation(0, 0, 0%)
            @else
                $top: #{random(4) + 2}
                $left: #{random(30) / 100 - random(30) / 100 - 0.02}
                $v-height: #{percentage((random(3) + 2) * (1/20))}
                @include glitch-transformation($top, $left, $v-height)

@keyframes logo-translate
    0%, 70%
        font-size: 3rem
        left: 50%
        top: 50%
        transform: translate(-50%, -50%)
    100%
        font-size: 1.5rem
        left: 5%
        top: 3%
